<div class="banner" style="background-image: linear-gradient(rgba(0,0,0,0.2),rgba(0,0,0,0.2)), url(https://res.cloudinary.com/louixa/image/upload/v1560225253/bernard-hermant-1065742-unsplash_wfuuxq.jpg);"></div>

  <div class="show-container">
    <div class="description-container card-accordion">
      <h1 class="p-1"><%= @case.family_name %></h1>
      <p class="p-1">Date Opened: <%= @case.start_date %></p>
      <p class="p-1">Case #: <%= @case.case_number %></p>
      <p class="p-1">Subject Child/Children: <%= @case.child_name %></p>
      <p class="p-1">Address: <%= @case.address %></p>
      <p class="p-1">Phone Numbers: <%= @case.phone_number %></p>
      <p class="p-1">Summary: <%= @case.summary %></p>
      <p class="p-1">Status: <%= @case.state %></p>
      <%= link_to "  ADD NEXT ACTION  ", new_case_case_action_path(@case), class: 'btn btn-secondary rounded-pill btn-sm p-2 mt-2' %>
    </div>
      <div class="notes-container card-accordion">
        <h1>Case Notes</h1>
          <% @case_actions.each do |act| %>
          <button class="accordion mt-2"><%= act.title %>| DUE: <%= act.due_date %></button>
          <div class="panel">
          <p class="p-3"><%= act.report %></p>
          <p class="p-3"><%= link_to "ADD NEW NOTE", edit_case_action_path(act), class: 'btn btn-secondary rounded-pill btn-sm m-2 ml-5 p-2' %></p>
          </div>
          <% end %>
      </div>
      <div class="map-card build-map" id="map" data-markers="<%= @markers.to_json %>" data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"></div>
</div>




<script>
const acc = document.getElementsByClassName("accordion");
let i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    let panel = this.nextElementSibling;
    if (panel.style.display === "block") {
      panel.style.display = "none";
    } else {
      panel.style.display = "block";
    }
  });
}
</script>
